<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pindai QR Code Pasien</title>
    <style>
        body { font-family: Arial, sans-serif; display: flex; justify-content: center; align-items: center; min-height: 100vh; background-color: #eef2f5; margin: 0; padding: 20px; box-sizing: border-box; }
        main { background: white; padding: 25px 30px; border-radius: 12px; box-shadow: 0 6px 20px rgba(0,0,0,0.08); width: 100%; max-width: 500px; text-align: center; }
        h1 { color: #333; margin-top: 0; }
        p { color: #666; margin-bottom: 20px; }
        #reader { width: 100%; border: 2px solid #f1f1f1; border-radius: 8px; }
        #result { margin-top: 20px; font-weight: bold; }
        .success { color: #28a745; }
    </style>
</head>
<body>
    <main>
        <h1>Arahkan Kamera ke QR Code</h1>
        <p>Pemindaian akan dimulai otomatis. Izinkan akses kamera pada browser jika diminta.</p>
        <div id="reader"></div>
        <div id="result"></div>
    </main>

    <script>
        !function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){(function(e){"use strict";t.exports=e.Html5Qrcode=n(0).Html5Qrcode}).call(this,n(1))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){t.exports=n(3)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4);e.Html5Qrcode=r.Html5Qrcode;var i=n(5);e.Html5QrcodeScanner=i.Html5QrcodeScanner;var o=n(6);e.Html5QrcodeSupportedFormats=o.Html5QrcodeSupportedFormats,e.QrDimensionFunction=o.QrDimensionFunction,e.QrDimensions=o.QrDimensions,e.QrboxFunction=o.QrboxFunction;var a=n(7);e.Html5QrcodeScanType=a.Html5QrcodeScanType,e.Html5QrcodeConstants=a.Html5QrcodeConstants,e.Html5Qrcode=r.Html5Qrcode},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),close:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&"Generator"===(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,o)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Html5Qrcode=void 0;var o=n(7),a=function(){function t(t,e){this.qrcode=window.qrcode,this.qrcode||function(){var t=new Error("qrcode is not defined, use the minified/html5-qrcode.min.js for proper support");throw t.name="Code-Not-Found",t}(),this.elementId=t,this.verbose="boolean"==typeof e&&e,this.foreverScanTimeout=null,this.localMediaStream=null,this.shouldScan=!0,this.isScanning=!1}return t.prototype.start=function(t,e,n,o){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!n||"function"!=typeof n)throw"qrCodeSuccessCallback is required and should be a function.";o||(o=function(t){a.verbose&&console.log("qrCodeErrorCallback is not defined")});var s=e||{};return new Promise(function(e,c){a.isScanning=!0,a.shouldScan=!0,a.qrcode.callback=n;var u=a.createVideoConstraints(t);navigator.mediaDevices.getUserMedia({audio:!1,video:u}).then(function(t){var n=function(t){return r(a,void 0,void 0,function(){var n=this;return i(this,function(r){switch(r.label){case 0:return[4,n.startScanning(t,s)];case 1:return r.sent(),e(),[2]}})})};a.setVideoConstraints(t,s).then(function(t){n(t)}).catch(function(t){a.verbose&&console.error("Couldn't set video constraints, ignoring.",t),n(t)})}).catch(function(t){c("Error getting userMedia, error = "+t)})})},t.prototype.stop=function(){var t=this;return this.shouldScan=!1,clearTimeout(this.foreverScanTimeout),new Promise(function(e){if(t.isScanning){if(t.qrcode.callback=null,t.localMediaStream){var n=t.localMediaStream.getVideoTracks();n.forEach(function(t){t.stop()})}t.localMediaStream=null,t.clearElement(),t.isScanning=!1,e()}else e()})},t.prototype.scanFile=function(t,e){var n=this;if(void 0===e&&(e=!0),!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'";if(this.isScanning)throw"Close ongoing scan before scanning a file.";return new Promise(function(r,i){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=t;var o=new Image,a=function(t,e){i(e)};o.onload=function(){var s,c,u=o.width,l=o.height,f=document.getElementById(n.elementId),d=f.clientWidth?f.clientWidth:o.DEFAULT_WIDTH,h=Math.max(d,l),p=(s=u,c=l,d,h,s<=d&&c<=h?{x:(d-s)/2,y:(h-c)/2,width:s,height:c}:(d,h,s,c,s/c>d/h?{width:d,height:Math.floor(d*c/s)}:{width:Math.floor(h*s/c),height:h}));if(e){var g=n.createCanvasElement(d,h,"qr-canvas-visible");g.style.display="inline-block",f.appendChild(g);var m=g.getContext("2d");m.canvas.width=d,m.canvas.height=h,m.drawImage(o,0,0,u,l,0,0,p.width,p.height)}var v=n.createCanvasElement(p.width,p.height);f.appendChild(v);var y=v.getContext("2d");y.canvas.width=p.width,y.canvas.height=p.height,y.drawImage(o,0,0,u,l,0,0,p.width,p.height);try{r(n.qrcode.decode())}catch(t){i("QR code parse error, error = "+t)}},o.onerror=a,o.onabort=a,o.onstalled=a,o.onsuspend=a,o.src=URL.createObjectURL(t)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return new Promise(function(e,n){if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia({audio:!1,video:!0}).then(function(t){var r=function(t){t.getVideoTracks().forEach(function(t){t.enabled=!1,t.stop(),t.removeTrack(t)})};navigator.mediaDevices.enumerateDevices().then(function(t){var i=[];return t.forEach(function(t){"videoinput"===t.kind&&i.push({id:t.deviceId,label:t.label})}),i}).then(function(n){r(t),e(n)}).catch(function(e){r(t),n(e.name+": "+e.message)})}).catch(function(t){n(t.name+": "+t.message)});else{if(!MediaStreamTrack||!MediaStreamTrack.getSources)return n("enumerateDevices() not supported.");MediaStreamTrack.getSources(function(t){var n=[];t.forEach(function(t){"video"===t.kind&&n.push({id:t.id,label:t.label})}),e(n)})}})},t.prototype.getRunningTrackCapabilities=function(){if(null===this.localMediaStream)throw"Scanning is not running.";var t=this.localMediaStream.getVideoTracks();if(0===t.length)throw o.Html5QrcodeConstants.NO_VIDEO_TRACK_FOUND_ERROR;return t[0].getCapabilities()},t.prototype.applyVideoConstraints=function(t){var e=this;if(!t||"object"!=typeof t)throw"videoConstaints should be an object.";if(null===this.localMediaStream)throw"Scanning is not running.";var n=e.localMediaStream.getVideoTracks();if(0===n.length)throw o.Html5QrcodeConstants.NO_VIDEO_TRACK_FOUND_ERROR;return new Promise(function(r,i){n[0].applyConstraints(t).then(function(t){e.verbose&&console.log("constraints applied"),r(t)}).catch(function(t){i(t)})})},t.prototype.setVideoConstraints=function(t,e){var n=this;return new Promise(function(r,i){if(e.aspectRatio){var o=t.getVideoTracks();if(0===o.length)return void r("No video tracks found to apply aspect ratio.");var a=o[0].getConstraints();a.aspectRatio=e.aspectRatio,n.verbose&&console.log("Applying aspect ratio: "+e.aspectRatio),o[0].applyConstraints(a).then(function(t){n.verbose&&console.log("aspect ratio applied."),r(t)}).catch(function(t){n.verbose&&console.warn("Unable to apply aspect ratio.",t),r(t)})}else r(null)})},t.prototype.createVideoConstraints=function(t){if("object"==typeof t)return t;var e,n=!0;return"string"==typeof t?e={exact:t}:n=t,n&&"object"==typeof n?(n.facingMode?e={exact:n.facingMode}:n.deviceId&&(e={exact:n.deviceId}),n.facingMode?{facingMode:e,width:{min:640,ideal:1024,max:1920},height:{min:480,ideal:768,max:1080}}:n.deviceId?{deviceId:e,width:{min:640,ideal:1024,max:1920},height:{min:480,ideal:768,max:1080}}:{width:{min:640,ideal:1024,max:1920},height:{min:480,ideal:768,max:1080}}):{width:{min:640,ideal:1024,max:1920},height:{min:480,ideal:768,max:1080}}})},t.prototype.startScanning=function(t){var e=this;return this.element=document.getElementById(this.elementId),this.videoElement=this.createVideoElement(),this.element.appendChild(this.videoElement),this.localMediaStream.getTracks().forEach(function(t){e.videoElement.srcObject=e.localMediaStream}),new Promise(function(n,r){e.videoElement.onabort=r,e.videoElement.onerror=r,e.videoElement.onplaying=function(){var r=e.videoElement.clientWidth,i=e.videoElement.clientHeight;if(e.qrbox=t.qrbox,e.qrbox||(i=Math.floor(.8*(Math.min(r,i))),e.qrbox=i),e.qrbox<o.Html5QrcodeConstants.MIN_QR_BOX_SIZE&&(e.verbose&&console.warn("config.qrbox (the scan region size) is too small, using the min size = 50px."),e.qrbox=o.Html5QrcodeConstants.MIN_QR_BOX_SIZE),e.qrbox>r||e.qrbox>i){var a=r<i?r:i;e.verbose&&console.warn("config.qrbox (the scan region size) is bigger than the video dimensions, using the min dimension = "+a+"px."),e.qrbox=a}var s=e.qrbox;e.setupUi(r,i,s);var c=function(){if(e.shouldScan)try{var t=e.getScanRegion(r,i,s);e.context.drawImage(e.videoElement,t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.qrcode.decode(),e.possiblyUpdateShaders(!0)}catch(t){e.possiblyUpdateShaders(!1)}finally{var n=t.fps?t.fps:o.Html5QrcodeConstants.SCAN_DEFAULT_FPS;e.foreverScanTimeout=setTimeout(c,e.getTimeoutFps(n))}};c(),n()}})},t.prototype.clearElement=function(){if(this.isScanning)throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t.innerHTML="",t.style.position=null},t.prototype.createVideoElement=function(){var t=document.createElement("video");return t.style.width="100%",t.style.height="100%",t.playsInline=!0,t.muted=!0,t.autoplay=!0,t.id=o.Html5QrcodeConstants.DEFAULT_VIDEO_ELEMENT_ID,t},t.prototype.setupUi=function(t,e,n){var r=n,i=this.createCanvasElement(r,r);this.element.append(i),this.context=i.getContext("2d"),this.possiblyInsertShaders(t,e,n)},t.prototype.createCanvasElement=function(t,e,n){var r=document.createElement("canvas");return r.style.width=t+"px",r.style.height=e+"px",r.style.display="none",r.id=void 0===n?"qr-canvas":n,r},t.prototype.getScanRegion=function(t,e,n){var r=(t-n)/2,i=(e-n)/2;return{x:r,y:i,width:n,height:n}},t.prototype.getTimeoutFps=function(t){return 1e3/t},t.prototype.possiblyInsertShaders=function(t,e,n){if(this.verbose){this.verbose&&console.log("Insert shader");var r=document.createElement("div");r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.style.width=t+"px",r.style.height=e+"px",r.style.background="rgba(0, 0, 0, 0.5)",r.style.zIndex="10",this.element.appendChild(r);var i=document.createElement("div");i.style.position="absolute",i.style.background="white",i.style.width=n+"px",i.style.height=n+"px",i.style.top=(e-n)/2+"px",i.style.left=(t-n)/2+"px",i.style.zIndex="11",this.element.appendChild(i)}},t.prototype.possiblyUpdateShaders=function(t){},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&URL.revokeObjectURL(this.lastScanImageFile)},t}();e.Html5Qrcode=a},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),close:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&"Generator"===(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,o)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Html5QrcodeScanner=void 0;var o=n(4),a=n(7),s=n(6),c=function(){function t(t,e,n){if(this.elementId=t,this.config=e,this.verbose=void 0===n||n,this.sectionState=a.Html5QrcodeScannerStatus.STATUS_DEFAULT,this.html5Qrcode=null,!t)throw"elementId cannot be null or undefined";if(!s.isValidHtml5QrcodeSupportedFormats(this.config?this.config.formatsToSupport:void 0))throw"'formatsToSupport' must be undefined or an array of 'Html5QrcodeSupportedFormats'."}return t.prototype.render=function(t,e){var n=this;this.lastScanResult=null;var s=document.getElementById(this.elementId);if(!s)throw"HTML Element with id="+this.elementId+" not found";s.innerHTML="";try{this.html5Qrcode=new o.Html5Qrcode(this.elementId,this.verbose);var c=this.config?this.config.supportedScanTypes:void 0,u=this.config?this.config.rememberLastUsedCamera:void 0;this.ui=new l(c),this.ui.render(s),this.ui.getScanRegionCamera().addEventListener("click",function(){return r(n,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,o.Html5Qrcode.getCameras()];case 1:return n.selectCamera(e.sent(),t,u),[2]}})})}),this.ui.getScanRegionFile().addEventListener("click",function(){return n.ui.getFileScanInput().click()}),this.ui.getFileScanInput().addEventListener("change",function(e){return r(n,void 0,void 0,function(){var n,o;return i(this,function(r){if(!e.target.files||0===e.target.files.length)return[2];switch(n=e.target.files[0],r.label){case 0:return r.trys.push([0,2,,3]),[4,this.html5Qrcode.scanFile(n,!0)];case 1:return o=r.sent(),this.onScanSuccess(o,t),[2];case 2:return this.onScanFailure(r.sent()),[3,3];case 3:return[2]}})})})}catch(t){s.innerHTML='<div style="text-align: center; color: red;">Error: '+t+"</div>",this.html5Qrcode=null}},t.prototype.clear=function(){var t=this;return r(this,void 0,void 0,function(){return i(this,function(e){var n=document.getElementById(this.elementId);return n&&(n.innerHTML=""),this.html5Qrcode?(this.lastScanResult=null,this.ui.reset(),this.html5Qrcode.stop().then(function(){t.html5Qrcode.clear(),t.html5Qrcode=null}).catch(function(e){t.verbose&&console.error("Failed to stop html5Qrcode.")})):void 0,[2]})})},t.prototype.onScanSuccess=function(t,e){if(e)return this.lastScanResult=t,void e(t,this.lastScanResult);var n=document.getElementById("html5-qrcode-anchor-scan-type-change");if(!n)throw"Anchor element not found";n.style.display="none",this.ui.getScanResultContainer().innerHTML='<span style="font-weight: bold; color: green;">Last Scan:</span> '+t},t.prototype.onScanFailure=function(t){this.ui.getScanResultContainer().innerHTML='<span style="font-weight: bold; color: red;">Scan Error:</span> '+t},t.prototype.selectCamera=function(t,e,n){var s=this;this.clearScanResult(),this.ui.hideScanTypeSelector(),this.ui.show(()=>r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,s.html5Qrcode.stop()];case 1:return t.sent(),s.render(e),[2]}})}),!1);var c=a.getLastUsedCameraId();if(n&&c)for(var u=0;u<t.length;u++)if(t[u].id===c){var l=t[u];return void this.startScanning(e,l)}if(0!==t.length){this.ui.showCameraStatus(t);var f=this;this.ui.getCameraSelection().addEventListener("change",function(e){var n=t[e.target.value];f.html5Qrcode.stop().then(function(t){f.startScanning(e,n)}).catch(function(t){console.error("Failed to stop camera scanning",t)})});var d=t[0];return void this.startScanning(e,d)}this.ui.showInfo("No cameras found")},t.prototype.startScanning=function(t,e){var n=this,r=this.config?this.config.fps:10,i=this.config?this.config.qrbox:void 0,s=this.config?this.config.aspectRatio:void 0,c={fps:r,qrbox:i,aspectRatio:s};this.html5Qrcode.start(e.id,c,function(e,r){n.onScanSuccess(e,t)},function(t){n.onScanFailure(t)})},t.prototype.clearScanResult=function(){this.lastScanResult=null,this.ui.getScanResultContainer().innerHTML=""},t}();e.Html5QrcodeScanner=c;var u=12,l=function(){function t(t){var e,n;void 0===t&&(t=[a.Html5QrcodeScanType.CAMERA,a.Html5QrcodeScanType.FILE]);var r=new Set(t);this.shouldRenderCameraScanRegion=r.has(a.Html5QrcodeScanType.CAMERA),this.shouldRenderFileScanRegion=r.has(a.Html5QrcodeScanType.FILE),this.showSelectCamera=this.shouldRenderCameraScanRegion,this.showScanFile=this.shouldRenderFileScanRegion,this.shouldRenderCameraScanRegion&&this.shouldRenderFileScanRegion?n=a.Html5QrcodeScanType.CAMERA:this.shouldRenderCameraScanRegion?n=a.Html5QrcodeScanType.CAMERA:n=a.Html5QrcodeScanType.FILE;var i;switch(n){case a.Html5QrcodeScanType.CAMERA:i={state:n,text:"Scan an Image File"};break;case a.Html5QrcodeScanType.FILE:i={state:n,text:"Scan using camera"};break;default:i={state:n,text:"Unsupported scan type"}}var o=i.text,s=function(t){return e.state===a.Html5QrcodeScanType.CAMERA?(e.state=a.Html5QrcodeScanType.FILE,e.text="Scan using camera",t.text=e.text,l.style.display="none",f.style.display="block"):(e.state=a.Html5QrcodeScanType.CAMERA,e.text="Scan an Image File",t.text=e.text,l.style.display="block",f.style.display="none")},c=(e=i,function(e){return r(this,void 0,void 0,function(){var n,c,l,f,d,h,p,g;return i(this,function(r){switch(r.label){case 0:return n=(e.innerHTML='<div style="text-align: left; margin-bottom: 10px"><a id="html5-qrcode-anchor-scan-type-change" href="#scan-type-change" style="text-decoration: none;"></a></div>'),this.shouldRenderCameraScanRegion||this.shouldRenderFileScanRegion||(c=document.getElementById("html5-qrcode-anchor-scan-type-change")).style.display="none",l=document.createElement("div"),l.id="html5-qrcode-scan-region-camera",l.style.display=this.showSelectCamera?"block":"none",e.appendChild(l),f=document.createElement("div"),f.id="html5-qrcode-scan-region-file",f.style.display=this.showScanFile?"block":"none",e.appendChild(f),this.shouldRenderCameraScanRegion&&this.shouldRenderFileScanRegion?(d=document.getElementById("html5-qrcode-anchor-scan-type-change")).text=o,d.addEventListener("click",function(t){return t.preventDefault(),void s(d)}):d.style.display="none",[4,this.insertHtml(e,"__dashboard",null)];case 1:return r.sent(),[4,this.insertHtml(this.getDashboard(),null,"__dashboard_section_csr")];case 2:return r.sent(),[4,this.insertHtml(this.getDashboard(),null,"__dashboard_section_fsr")];case 3:return r.sent(),h=this.getDashboardSectionCamera(),p=this.getDashboardSectionFile(),h.style.display=this.showSelectCamera?"block":"none",p.style.display=this.showScanFile?"block":"none",[4,this.insertHtml(this.getScanRegionCamera(),"__camera_streaming_section",null)];case 4:return r.sent(),[4,this.insertHtml(this.getScanRegionCamera(),null,"__dashboard_section_swaplink")];case 5:return r.sent(),[4,this.insertHtml(this.getScanRegionCamera(),null,"__dashboard_section_info")];case 6:return r.sent(),[4,this.insertHtml(this.getScanRegionCamera(),null,"__dashboard_section_result")];case 7:return r.sent(),[4,this.insertHtml(this.getScanRegionFile(),null,"__file_scan_section")];case 8:return r.sent(),[4,this.insertHtml(h,"__camera_selection_section",null)];case 9:return r.sent(),[4,this.insertHtml(h,"__camera_permission_section",null)];case 10:return r.sent(),[4,this.insertHtml(p,"__file_selection_section",null)];case 11:return g=(r.sent(),this.getScanResultContainer().style.textAlign="center",e.getElementsByTagName("div")[0]).style.display="none",[2]}})})});this.render=c.bind(this)}return t.prototype.getScanRegionCamera=function(){return document.getElementById("html5-qrcode-scan-region-camera")},t.prototype.getScanRegionFile=function(){return document.getElementById("html5-qrcode-scan-region-file")},t.prototype.getDashboard=function(){return document.getElementById("__dashboard")},t.prototype.getDashboardSectionCamera=function(){return document.getElementById("__dashboard_section_csr")},t.prototype.getDashboardSectionFile=function(){return document.getElementById("__dashboard_section_fsr")},t.prototype.getScanResultContainer=function(){return document.getElementById("__dashboard_section_result")},t.prototype.getFileScanInput=function(){return document.getElementById("__file_selection_section")},t.prototype.getCameraSelection=function(){return document.getElementById("__camera_selection_section")},t.prototype.hideScanTypeSelector=function(){document.getElementById("html5-qrcode-anchor-scan-type-change").style.display="none"},t.prototype.show=function(t,e){this.getDashboardSectionCamera().style.display=e?"none":"block",this.getDashboardSectionFile().style.display=e?"block":"none";var n=document.createElement("a");n.href="#",n.text="Stop",n.style.float="left",n.addEventListener("click",function(e){return e.preventDefault(),void t()}),this.getDashboard().appendChild(n)},t.prototype.showCameraStatus=function(t){var e=this.getCameraSelection();e.innerHTML="",t.forEach(function(t,n){var r=document.createElement("option");r.value=n,r.innerHTML=t.label?t.label:t.id,e.appendChild(r)}),e.style.display="inline-block",document.getElementById("__camera_permission_section").style.display="none"},t.prototype.showInfo=function(t){this.getScanResultContainer().innerHTML=t},t.prototype.showError=function(t,e){this.getScanResultContainer().innerHTML="<span style='color:red'>"+t+"</span>"},t.prototype.reset=function(){var t=document.getElementById("html5-qrcode-anchor-scan-type-change");t&&(t.style.display="block"),this.getDashboardSectionCamera().style.display="none",this.getDashboardSectionFile().style.display="none",this.getScanResultContainer().innerHTML="",this.getCameraSelection().style.display="none"},t.prototype.insertHtml=function(t,e,n){var i;return r(this,void 0,void 0,function(){var r,o,a;return i(this,function(i){switch(i.label){case 0:return r=e,o=n,[4,fetch("https://raw.githubusercontent.com/mebjas/html5-qrcode/master/src/"+(r||o)+".html").then(function(t){return t.text()})];case 1:return a=i.sent(),e?t.innerHTML=a:t.id=o,t.innerHTML=a,[2]}})})},t}();e.Html5QrcodeUI=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isValidHtml5QrcodeSupportedFormats=e.Html5QrcodeSupportedFormats=void 0;var r;!function(t){t.QR_CODE="QR_CODE",t.AZTEC="AZTEC",t.CODABAR="CODABAR",t.CODE_39="CODE_39",t.CODE_93="CODE_93",t.CODE_128="CODE_128",t.DATA_MATRIX="DATA_MATRIX",t.MAXICODE="MAXICODE",t.ITF="ITF",t.EAN_13="EAN_13",t.EAN_8="EAN_8",t.PDF_417="PDF_417",t.RSS_14="RSS_14",t.RSS_EXPANDED="RSS_EXPANDED",t.UPC_A="UPC_A",t.UPC_E="UPC_E",t.UPC_EAN_EXTENSION="UPC_EAN_EXTENSION"}(r=e.Html5QrcodeSupportedFormats||(e.Html5QrcodeSupportedFormats={})),e.isValidHtml5QrcodeSupportedFormats=function(t){if(!t)return!0;if(!Array.isArray(t))return!1;var e,n=new Set;for(var i in t)e=t[i],n.has(e)?console.warn(e+" is specified multiple times, ignoring."):n.add(e);return!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Html5QrcodeConstants=e.Html5QrcodeScannerStatus=e.Html5QrcodeScanType=void 0,function(t){t.CAMERA="camera",t.FILE="file"}(e.Html5QrcodeScanType||(e.Html5QrcodeScanType={})),function(t){t.STATUS_DEFAULT="STATUS_DEFAULT",t.STATUS_SUCCESS="STATUS_SUCCESS",t.STATUS_SCANNING="STATUS_SCANNING"}(e.Html5QrcodeScannerStatus||(e.Html5QrcodeScannerStatus={})),e.Html5QrcodeConstants={MIN_QR_BOX_SIZE:50,SCAN_DEFAULT_FPS:2,DEFAULT_VIDEO_ELEMENT_ID:"html5-qrcode-video",NO_VIDEO_TRACK_FOUND_ERROR:"No video tracks found."}}])});
//# sourceMappingURL=html5-qrcode.min.js.map